<div id="terms-modal" style="display:none;">
    <p>Termos e Condições...</p>
    <button id="accept-terms">Aceitar</button>
    <button id="decline-terms">Recusar</button>
</div>

<script>
    require(['jquery', 'Magento_Ui/js/modal/modal'], function($, modal) {
        var options = {
            type: 'popup',
            responsive: true,
            buttons: []
        };

        var popup = modal(options, $('#terms-modal'));
        $('#terms-modal').modal('openModal');

        $('#accept-terms').click(function() {
            $.ajax({
                url: '<?= $block->getUrl("terms/terms/accept") ?>',
                type: 'POST',
                data: { accepted: 1 },
                success: function(response) {
                    $('#terms-modal').modal('closeModal');
                    window.location.href = '<?= $block->getUrl("customer/account") ?>';
                }
            });
        });

        $('#decline-terms').click(function() {
            $.ajax({
                url: '<?= $block->getUrl("terms/terms/accept") ?>',
                type: 'POST',
                data: { accepted: 0 },
                success: function(response) {
                    $('#terms-modal').modal('closeModal');
                    window.location.href = '<?= $block->getUrl("customer/account") ?>';
                }
            });
        });
    });
</script>
