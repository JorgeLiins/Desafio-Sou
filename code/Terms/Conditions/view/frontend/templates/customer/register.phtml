<?php
/** @var \SeuNamespace\SeuModulo\Block\Customer\Register $block */
?>
<div class="block block-customer-register">
    <div class="block-title">
        <strong><?= $block->escapeHtml(__('Create New Customer Account')) ?></strong>
    </div>
    <div class="block-content">
        <form class="form create account form-create-account" action="<?= $block->escapeUrl($block->getPostActionUrl()) ?>" method="post" id="form-validate" enctype="multipart/form-data" autocomplete="off">
            <?= $block->getBlockHtml('formkey') ?>
            <fieldset class="fieldset create info">
                <legend class="legend"><span><?= $block->escapeHtml(__('Personal Information')) ?></span></legend><br>
                <div class="field required">
                    <label for="firstname" class="label"><span><?= $block->escapeHtml(__('First Name')) ?></span></label>
                    <div class="control">
                        <input type="text" name="firstname" id="firstname" value="" title="<?= $block->escapeHtml(__('First Name')) ?>" class="input-text" data-validate="{required:true}">
                    </div>
                </div>
                <div class="field required">
                    <label for="lastname" class="label"><span><?= $block->escapeHtml(__('Last Name')) ?></span></label>
                    <div class="control">
                        <input type="text" name="lastname" id="lastname" value="" title="<?= $block->escapeHtml(__('Last Name')) ?>" class="input-text" data-validate="{required:true}">
                    </div>
                </div>
                <div class="field required">
                    <label for="email_address" class="label"><span><?= $block->escapeHtml(__('Email')) ?></span></label>
                    <div class="control">
                        <input type="email" name="email" id="email_address" value="" title="<?= $block->escapeHtml(__('Email')) ?>" class="input-text" data-validate="{required:true, 'validate-email':true}">
                    </div>
                </div>
            </fieldset>
            <fieldset class="fieldset create account">
                <legend class="legend"><span><?= $block->escapeHtml(__('Sign-in Information')) ?></span></legend><br>
                <div class="field required">
                    <label for="password" class="label"><span><?= $block->escapeHtml(__('Password')) ?></span></label>
                    <div class="control">
                        <input type="password" name="password" id="password" title="<?= $block->escapeHtml(__('Password')) ?>" class="input-text" data-validate="{required:true, 'validate-password':true}">
                    </div>
                </div>
                <div class="field confirmation required">
                    <label for="password-confirmation" class="label"><span><?= $block->escapeHtml(__('Confirm Password')) ?></span></label>
                    <div class="control">
                        <input type="password" name="password_confirmation" title="<?= $block->escapeHtml(__('Confirm Password')) ?>" id="password-confirmation" class="input-text" data-validate="{required:true, 'validate-cpassword':true}">
                    </div>
                </div>
            </fieldset>
            <div class="actions-toolbar">
                <div class="primary">
                    <button type="submit" class="action submit primary" title="<?= $block->escapeHtml(__('Create an Account')) ?>"><span><?= $block->escapeHtml(__('Create an Account')) ?></span></button>
                </div>
                <div class="secondary">
                    <a class="action back" href="<?= $block->escapeUrl($block->getBackUrl()) ?>"><span><?= $block->escapeHtml(__('Back')) ?></span></a>
                </div>
            </div>
        </form>
    </div>
</div>

<div id="terms-modal" style="display:none;">
    <p>Termos e Condições...</p>
    <button id="accept-terms">Aceitar</button>
    <button id="decline-terms">Recusar</button>
</div>

<script>
    require(['jquery', 'Magento_Ui/js/modal/modal'], function($, modal) {
        var options = {
            type: 'popup',
            responsive: true,
            buttons: []
        };

        var popup = modal(options, $('#terms-modal'));
        $('#terms-modal').modal('openModal');

        $('#accept-terms').click(function() {
            $('#accepted_terms').val(1);
            $('#terms-modal').modal('closeModal');
        });

        $('#decline-terms').click(function() {
            $('#terms-modal').modal('closeModal');
        });
    });
</script>

<input type="hidden" name="accepted_terms" id="accepted_terms" value="0" />
